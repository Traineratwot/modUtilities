{"version":3,"names":[],"mappings":"","sources":["assets/components/modutilities/js/mgr/error.tab.js"],"sourcesContent":["var ModUtilCategoryArr\r\nExt.onReady(function() {\r\n\tMODx.add({\r\n\t\txtype: 'modUtil-panel-home'\r\n\t})\r\n\tModUtilCategoryArr = new Ext.data.JsonStore({\r\n\t\troot: 'results'\r\n\t\t, autoLoad: true\r\n\t\t, totalProperty: 'total'\r\n\t\t, fields: ['id', 'name']\r\n\t\t, url: modUtilConnector_url\r\n\t\t, baseParams: {\r\n\t\t\taction: 'mgr/rest/getlistcategory',\r\n\t\t\tcombo: 1,\r\n\t\t},\r\n\t\tlisteners: {\r\n\t\t\tload: function() {\r\n\t\t\t\tExt.getCmp('Rest-main-table').refresh()\r\n\t\t\t\tExt.getCmp('Category-main-table').refresh()\r\n\t\t\t\t// Ext.getCmp('Log-main-table').refresh()\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\thljs.initHighlightingOnLoad()\r\n})\r\nvar modUtil = function(config) {\r\n\tconfig = config || {}\r\n\tmodUtil.superclass.constructor.call(this, config)\r\n}\r\nExt.extend(modUtil, MODx.Component, { // Перечисляем группы, внутрь которых будем \"складывать\" объекты\r\n\tpanel: {},\r\n\tpage: {},\r\n\twindow: {},\r\n\tgrid: {},\r\n\ttree: {},\r\n\tcombo: {},\r\n\tconfig: {},\r\n\tview: {},\r\n\tutils: {}\r\n})\r\nExt.reg('modUtil', modUtil)\r\nmodUtil = new modUtil()\r\n\r\nvar defaultRenderer = function(val) {\r\n\treturn val || _('ext_emptygroup')\r\n}\r\nvar JSONRenderer = function(val) {\r\n\tif(val) {\r\n\t\treturn cope.Highlighter.highlight(JSON.parse(val), {indent: 2, useTabs: true});\r\n\t\treturn `<pre><code class=\"language-json\">${val}</code></pre>`\r\n\t}\r\n\treturn defaultRenderer(val)\r\n}\r\n\r\n//основной блок\r\nmodUtil.panel.Home = function(config) {\r\n\tconfig = config || {}\r\n\tExt.apply(config, {\r\n\t\tcls: 'container', // Добавляем отступы\r\n\t\titems: [{\r\n\t\t\thtml: ' <h2>modUtil REST<small style=\"font-size: 10px\"><a href=\"https://forms.gle/FJbfBSutMJwQCgmS8\" target=\"_blank\">Bug report</a></small></h2>',\r\n\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: 'modx-tabs',\r\n\t\t\t\tid:\"main-modx-tabs\",\r\n\t\t\t\tdeferredRender: false,\r\n\t\t\t\tborder: true,\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'ERROR',\r\n\t\t\t\t\t\tid:'modx-tabs-Rest',\r\n\t\t\t\t\t\titems: [{\r\n\t\t\t\t\t\t\thtml: '<H1>Error '+_('modutilities.warning')+'</H1>',\r\n\t\t\t\t\t\t\tcls: 'panel-desc',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t]\r\n\t})\r\n\tmodUtil.panel.Home.superclass.constructor.call(this, config) // Чёртова магия =)\r\n}\r\nExt.extend(modUtil.panel.Home, MODx.Panel)\r\nExt.reg('modUtil-panel-home', modUtil.panel.Home)\r\n\r\n\r\n"],"file":"error.tab.js"}